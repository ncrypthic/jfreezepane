!function(a){function b(b,c){this.defaults={row:0,col:1,autohide:!0},this.$elmt=a(b),this.$cell,this.$container,this.$topLeft,this.$topRight,this.$bottomLeft,this.$bottomRight,this.$tl,this.$tr,this.$bl,this.$br,this.options,this.regions={tl:null,tr:null,bl:null,br:null},this.init(c),this.redraw=!1}function c(a,c){if("TABLE"===a.prop("nodeName")){var d=new b(a,c);return d}}b.prototype.constructor=function(){},b.prototype.init=function(b){var c=this;c.options=a.extend({},c.defaults,b),c.$container=a('<div class="freeze-container"/>'),c.$topLeft=a('<div class="freeze-left freeze-top freeze-top-left"><div class="freeze-panel"/></div>'),c.$topRight=a('<div class="freeze-top freeze-top-right"><div class="freeze-panel"/></div>'),c.$bottomLeft=a('<div class="freeze-left freeze-bottom-left"><div class="freeze-panel"/></div>'),c.$bottomRight=a('<div class="freeze-bottom-right"><div class="freeze-panel"/></div>'),c.$elmt.data("freezePane",c),c.$elmt.trigger("fp.init")},b.prototype.draw=function(){var b=this;b.$elmt.before(b.$container);var c=b.$elmt.clone(!0),d=b.$elmt.find("tr").eq(0);if(d){d.children().each(function(b){c.find("tr").eq(0).children().eq(b).css("width",a(this).width())}),c.attr("id",null),b.regions.tl=b.$tl=c.clone(!0).data("freezePane",b),b.regions.tr=b.$tr=c.clone(!0).data("freezePane",b),b.regions.bl=b.$bl=c.clone(!0).data("freezePane",b),b.regions.br=b.$br=c.clone(!0).data("freezePane",b);var e=b.$topLeft.find(".freeze-panel"),f=b.$topRight.find(".freeze-panel"),g=b.$bottomLeft.find(".freeze-panel"),h=b.$bottomRight.find(".freeze-panel");e.find("table").remove(),e.append(b.$tl),f.find("table").remove(),f.append(b.$tr),g.find("table").remove(),g.append(b.$bl),h.find("table").remove(),h.append(b.$br),b.$container.append(b.$topLeft),b.$container.append(b.$topRight),b.$container.append(b.$bottomLeft),b.$container.append(b.$bottomRight),b.$container.on("scroll",function(c){c.preventDefault();var d=a(this),e=d.scrollTop(),f=d.scrollLeft();b.options.row>-1&&a(".freeze-top",b.$container).css({top:e}),b.options.col>-1&&a(".freeze-left",b.$container).css({left:f})}),b.$container.on("click",function(c){var d=a(c.target),e=d.prop("nodeName");if("TD"===e||"TH"===e){var f=d.parent(),g=f.parents("table"),h=f.children().index(d),i=g.find("tr").index(f),j={row:i,col:h,src:c.target},k=jQuery.Event("fp.click");for(var l in b.regions)b.regions[l].find("tr").eq(i).find(e).eq(h).trigger(k,j);b.$elmt.find("tr").eq(i).find(e).eq(h).trigger("fp.click",j)}});var i=a("tr",b.$elmt).eq(b.options.row).children().eq(b.options.col).prop("nodeName");b.$row=a("tr",b.$elmt).eq(b.options.row),b.$cell=b.$row.find(i).eq(b.options.col||0);for(var j=a("tr",b.$elmt),k=0,l=0;l<b.options.row;l++)k+=j.eq(l).outerHeight(!0);for(var m=0,n=0;n<b.options.col;n++)m+=b.$row.find(i).eq(n).outerWidth(!0);b.redraw===!1?(b.options.row===!1?a(".freeze-top").hide():a(".freeze-top").css({minHeight:k,height:k}),b.options.col===!1?a(".freeze-left").hide():a(".freeze-left").css({width:m})):(a(".freeze-top",b.$container).css("top",""),a(".freeze-left",b.$container).css("left","")),!0===b.options.autohide&&b.$elmt.hide(),b.$elmt.trigger("fp.draw"),b.redraw=!0}},b.prototype.destroy=function(){};var d={getInstance:function(){return a(this).data("freezePane")},row:function(b){var c=a(this),d=c.data("freezePane");return"undefined"==typeof b?d.options.row:(d.options.row=b,d.draw(),d)},col:function(b){var c=a(this),d=c.data("freezePane");return"undefined"==typeof b?d.col:void(d.col=b)},freeze:function(b){var d=a(this),e=d.freezePane("getInstance");return e?(e.draw(),e):(e=new c(d,b),e.draw(),this)},unfreeze:function(){var b=a(this),c=b.freezePane("getInstance");return c?(c.$container.remove(),c.$elmt.show(),b.data("freezePane",void 0),this):void 0}};a.fn.freezePane=function(a){var b;return b="object"==typeof a?d.freeze.apply(this,arguments):"string"==typeof a&&d[a]?d[a].apply(this,Array.prototype.slice.call(arguments,1)):d.getInstance.apply(this)},("function"==typeof a.fn.dataTable||"function"==typeof a.fn.DataTable)&&(a.fn.DataTable.FreezePane=jQuery.fn.dataTable.FreezePane=a.fn.freezePane);var e=function(c,d){var e=a(d.nTable);a.extend({},d.oInit.freezePane);e.freezePane("getInstance")instanceof b&&e.freezePane("unfreeze"),e.freezePane(d.oInit.freezePane)};a(document).on("page.dt",e).on("length.dt",e).on("page.dt",e).on("order.dt",e).on("search.dt",e).on("draw.dt",e)}(jQuery);